<%- include('../partials/header') %>
<%- include('../partials/navbar') %>
<%- include('../partials/flash') %>

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title text-center mb-4">Edit Society Details</h2>
                    <form class="needs-validation" action="/societies/<%= foundSociety._id %>?_method=PATCH" method="POST" novalidate>
                        <div class="mb-3">
                            <label for="societyName" class="form-label">Society Name</label>
                            <input type="text" class="form-control" name="name" id="societyName" value="<%= foundSociety.name %>" placeholder="Name of Society" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Please enter a society name.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="societyImage" class="form-label">Image URL</label>
                            <input type="url" class="form-control" name="img" id="societyImage" placeholder="Image URL of Society" value="<%= foundSociety.img %>">
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Please enter an image URL.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="societyType" class="form-label">Type</label>
                            <select class="form-select" name="type" id="societyType" required>
                                <option value="Technical" <%= foundSociety.type === 'Technical' ? 'selected' : '' %>>Technical</option>
                                <option value="Cultural" <%= foundSociety.type === 'Cultural' ? 'selected' : '' %>>Cultural</option>
                                <option value="Social" <%= foundSociety.type === 'Social' ? 'selected' : '' %>>Social</option>
                                <option value="Sports" <%= foundSociety.type === 'Sports' ? 'selected' : '' %>>Sports</option>
                                <option value="Dramatics" <%= foundSociety.type === 'Dramatics' ? 'selected' : '' %>>Dramatics</option>
                            </select>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Please select a society type.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="societyDesc" class="form-label">Description</label>
                            <textarea class="form-control" name="description" id="societyDesc" rows="5" placeholder="Description of Society" required><%= foundSociety.description %></textarea>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Please enter a description.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="societyEmail" class="form-label">Contact Email</label>
                            <input type="email" class="form-control" name="email" id="societyEmail" placeholder="Contact Email" value="<%= foundSociety.email %>" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Please enter a valid email address.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="societyInstagram" class="form-label">Instagram URL</label>
                            <input type="url" class="form-control" name="instagram" id="societyInstagram" placeholder="Instagram URL" value="<%= foundSociety.instagram %>">
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Please enter a valid Instagram URL.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="societyLinkedin" class="form-label">LinkedIn URL</label>
                            <input type="url" class="form-control" name="linkedin" id="societyLinkedin" placeholder="LinkedIn URL" value="<%= foundSociety.linkedin %>">
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Please enter a valid Linkedin URL.
                            </div>
                        </div>

                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary btn-block">Save Changes</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<%- include('../partials/footer') %>
